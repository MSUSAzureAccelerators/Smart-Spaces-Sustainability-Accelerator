#########################################
# CREATE Svc Principal
# 
#########################################
$SvcPrinName = "acel-smart-spaces-svcprinjb20"
$RoleName="Contributor"
$RGP = "Accel-Smart-SpacesRG33"
$TenantID =  (az account show --query tenantId -o tsv)
#########################################
# Do NOT mofify code below
#########################################

#Create Svc Principal
az ad sp create-for-rbac --name $SvcPrinName --role $RoleName --scopes /subscriptions/$Sub_ID/resourceGroups/$RGP

# Retrieve Svc Principal - password (clientSecret)
$SvcPrinPwd = az ad sp create-for-rbac --name $SvcPrinName --query password -o tsv
$SvcPrinPwd

# Retrieve Svc Principal AppId
$SvcPrinAppId = az ad sp list --display-name $SvcPrinName --query [].appId -o tsv
$SvcPrinAppId

# Retreive Tenant ID
$TenantID =  (az account show --query tenantId -o tsv)

# Retreive Subscription ID
$Sub_ID = (az account show --query id -o tsv)

#Re-Display values:
$SvcPrinAppId
$SvcPrinPwd
$TenantID

#$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
#{
#  "applicationid": "<Your App ID>",
#  "clientsecret": "<Your Client Secret>",
#  "resource": "https://management.azure.com",
#  "tenantid": "<Your Tenant ID>"
#}
